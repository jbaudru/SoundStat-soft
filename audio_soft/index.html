<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SoundStat</title>
  <link rel="stylesheet" href="static/styles.css">
</head>

<body>
    <div class="header">
        <button class="toggle-btn" onclick="toggleMenu()">‚ò∞</button>
        <h5 class="title">SoundStat</h5>
    </div>

    <div class="side-menu" id="sideMenu">
    <ul class="menu-items">
        <li id="uploadMenu"><a href="#"><span class="menu-icon">üìÅ</span>Upload</a></li>
        <li id="analyseMenu"><a href="#"><span class="menu-icon">üìä</span>Analyse</a></li>
        <li id="aboutMenu"><a href="#"><span class="menu-icon">‚ÑπÔ∏è</span>About</a></li>
    </ul>
    <button class="hide-btn" onclick="toggleMenu()">‚Üê Hide</button>
    </div>

    <div class="content">
        <h1>Analyse your sounds</h1>
        <p>Free and Open Source analyser.</p>

        <form id="uploadForm">
            <div id="dropZone" class="drop-zone">
                <span class="placeholder">+</span>
                <p>Drag and drop a sound file here (wav, mp3, etc.)</p>
            </div>
            <input type="file" id="soundFile" name="soundFile" accept=".wav,.mp3,.ogg,.flac" hidden>
        </form>
    </div>

    <div class="analyse" id="analyseSection" style="display: none;">

        <p id="fileInfo"></p>
        
        <!-- Progress Bar for Analysis -->
        <div class="progress-container" id="progressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Starting analysis...</div>
        </div>
        
        <!-- Waveform Display -->
        <div class="waveform-container">
            <canvas class="waveform" id="waveformCanvas"></canvas>
        </div>
        
        <!-- Audio Statistics -->
        <div class="stats-container">
            <div class="stats-grid">
                <!-- BPM Analysis -->
                <div class="stat-card">
                    <h3>BPM Analysis</h3>
                    <div class="stat-value" id="bpmValue">--</div>
                    <div class="stat-label">Beats Per Minute</div>
                    <div class="confidence" id="bpmConfidence">Confidence: --</div>
                </div>
                
                <!-- Key Detection -->
                <div class="stat-card">
                    <h3>Key Detection</h3>
                    <div class="stat-value" id="keyValue">--</div>
                    <div class="stat-label">Musical Key</div>
                    <div class="frequency" id="dominantFreq">Freq: -- Hz</div>
                </div>
                
                <!-- Duration -->
                <div class="stat-card">
                    <h3>Duration</h3>
                    <div class="stat-value" id="durationValue">--</div>
                    <div class="stat-label">Seconds</div>
                </div>
                
                <!-- Audio Quality -->
                <div class="stat-card">
                    <h3>Peak Level</h3>
                    <div class="stat-value" id="peakValue">--</div>
                    <div class="stat-label">Peak Amplitude</div>
                </div>
                
                <!-- RMS Level -->
                <div class="stat-card">
                    <h3>RMS Level</h3>
                    <div class="stat-value" id="rmsValue">--</div>
                    <div class="stat-label">Average Loudness</div>
                </div>
                
                <!-- Dynamic Range -->
                <div class="stat-card">
                    <h3>Dynamic Range</h3>
                    <div class="stat-value" id="dynamicRangeValue">--</div>
                    <div class="stat-label">Peak - RMS</div>
                </div>
                
                <!-- Spectral Centroid -->
                <div class="stat-card">
                    <h3>Brightness</h3>
                    <div class="stat-value" id="spectralCentroidValue">--</div>
                    <div class="stat-label">Spectral Centroid (Hz)</div>
                </div>
                
                <!-- Zero Crossing Rate -->
                <div class="stat-card">
                    <h3>Noisiness</h3>
                    <div class="stat-value" id="zcrValue">--</div>
                    <div class="stat-label">Zero Crossings/sec</div>
                </div>
            </div>
        </div>
    </div>


    <div class="about" id="aboutSection" style="display: none;">
        <h2>About SoundStat</h2>
        <p>SoundStat is a free and open-source sound analysis tool.</p>
        <p>Developed by <a href="" target="_blank">Your Name</a>.</p>
        <p>Version: 1.0.0</p>
        <p>License: MIT</p>
    </div>

  <script src="lib/ui.js"></script>
</body>

</html>